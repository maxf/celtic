<!DOCTYPE html>
<html>
  <head>
    <title>Celtic</title>
    <link type="text/css" href="css/ui-lightness/jquery-ui-1.8.1.custom.css" rel="stylesheet" />
    <style type="text/css">
      body {
        font:65% "Trebuchet MS",sans-serif;
        width: 800px;
        margin: 0;
        padding: 10px;
      }      
      #controls {
        border: 2px solid black;
        margin-bottom: 1em;
        padding: 1em;
      }
      .ui-slider {
        margin-bottom: 1em;
      }

    </style>
    <script type="text/javascript" src="js/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="js/jquery-ui-1.8.1.custom.min.js"></script>
    <script type="text/javascript">
      var pattern;

      // set the scene size
      var WIDTH = 800, HEIGHT = 800;

      // set some camera attributes
      var VIEW_ANGLE = 45,
      ASPECT = WIDTH / HEIGHT,
      NEAR = 0.1,
      FAR = 10000;


      $(document).ready(function(){
        $("#tabs").tabs();
        $('#slider-shape1').slider({ value: 0, min: -2, max: 2, step: 0.01 });
        $('#slider-shape2').slider({ value: 0, min: -2, max: 2, step: 0.01 });
        $('#slider-width').slider({ value: 5, min: 1, max: 10, step: 0.1 });
        $('#slider-step').slider({ value: 0.01, min: 0.01, max: 0.5, step: 0.01 });
        $('#slider-margin').slider({ value: 0, min: 0, max: 200, step: 1 });
        $('#slider-nb_orbits').slider({value:3, min:2, max:11, step:1});
        $('#slider-nb_nodes_per_orbit').slider({value:5, min:4, max:13, step:1});
        $('#slider-triangle-edge_size').slider({value:80, min:20, max:200, step:.1});
        $('#slider-tgrid-edge_size').slider({value:60, min:40, max:200, step:.1});
        $('#slider-kennicott-edge_size').slider({value:80, min:70, max:90, step:.1});
        $('#slider-kennicott-cluster_size').slider({value:10, min:5, max:30, step:.1});


// get the DOM element to attach to
// - assume we've got jQuery to hand
var $container = $('#container');

// create a WebGL renderer, camera
// and a scene
var renderer = new THREE.WebGLRenderer();
var camera = new THREE.PerspectiveCamera(
                   VIEW_ANGLE,
                   ASPECT,
                   NEAR,
                   FAR );

var scene = new THREE.Scene();

// the camera starts at 0,0,0 so pull it back
camera.position.x = WIDTH/2;
camera.position.y = HEIGHT/2;
camera.position.z = 1500;

// start the renderer
renderer.setSize(WIDTH, HEIGHT);

// attach the render-supplied DOM element
$container.append(renderer.domElement);

var pattern = new Celtic({type: 3,
                          shape1: 0.2,
                          shape2: 0.2,
                          width: 5,
                          step: 0.01,
                          margin: 0,
                          nb_orbits: 1,
                          nb_nodes_per_orbit: 4,
                          triangle_edge_size: 100,
                          tgrid_edge_size: 60,
                          kennicott_edge_size: 80,
                          kennicott_cluster_size: 10
                         });
pattern.getGraph().draw(scene);

// var cylinderMaterial = new THREE.MeshLambertMaterial(
//  {
//      color: 0x00CC00
//  });
// var cylinder = new THREE.Mesh(
//     new THREE.CylinderGeometry(10,10,200,10,10,false),
//     cylinderMaterial);
// cylinder.position.x = 0;
// cylinder.position.y = 0;
// cylinder.position.z = 0;
// cylinder.rotation.z = Math.PI/4;
// scene.add(cylinder);


// create a point light
var pointLight = new THREE.PointLight( 0xFFFFFF );

// set its position
pointLight.position.x = 10;
pointLight.position.y = 50;
pointLight.position.z = 130;

// add to the scene
scene.add(pointLight);

// draw!
renderer.render(scene, camera);


//         $("#go").bind("click", function(event, ui) {
//           pattern = new Celtic({type: $("#tabs").tabs().tabs('option','selected'),
//                        shape1: $('#slider-shape1').slider('value'),
//                        shape2: $('#slider-shape2').slider('value'),
//                        width: $('#slider-width').slider('value'),
//                        step: $('#slider-step').slider('value'),
//                        margin: $('#slider-margin').slider('value'),
//                        nb_orbits: $('#slider-nb_orbits').slider('value'),
//                        nb_nodes_per_orbit: $('#slider-nb_nodes_per_orbit').slider('value'),
//                        triangle_edge_size: $('#slider-triangle-edge_size').slider('value'),
//                        tgrid_edge_size: $('#slider-tgrid-edge_size').slider('value'),
//                        kennicott_edge_size: $('#slider-kennicott-edge_size').slider('value'),
//                        kennicott_cluster_size: $('#slider-kennicott-cluster_size').slider('value')
//                       });
//           pattern.draw(scene);
//         });
      });
    </script>
  </head>
  <body>
    <div id="container"></div>
    <div id="controls">
      <input type="button" id="go" value="Go"/>

      <div id="pane1" style="width:350px; float: left">
        <p>Shape1:</p><div id="slider-shape1" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"></div>
        <p>Shape2:</p><div id="slider-shape2" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"></div>
        <p>Step:</p><div id="slider-step" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"></div>
      </div>
      <div id="pane2" style="width:350px; float: right">
        <p>Width:</p><div id="slider-width" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"></div>
        <p>Margin:</p><div id="slider-margin" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"></div>
      </div>
        <div id="tabs" style="clear:both">
        <ul>
          <li><a href="#tab-random"><span>Random</span></a></li>
          <li><a href="#tab-grid"><span>Grid</span></a></li>
          <li><a href="#tab-triangle"><span>Triangle</span></a></li>
          <li><a href="#tab-polar"><span>Polar</span></a></li>
          <li><a href="#tab-kennicott"><span>Kennicott</span></a></li>
        </ul>

        <div id="tab-random">
          <h2>Random</h2>
        </div>
        <div id="tab-grid">
          <h2>Grid</h2>
          <p>Edge Length:</p><div id="slider-tgrid-edge_size" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"></div>
        </div>
        <div id="tab-triangle">
          <h2>Triangle</h2>
          <p>Edge Length:</p><div id="slider-triangle-edge_size" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"></div>
        </div>
        <div id="tab-polar">
          <h2>Polar</h2>
          <p>Number of orbits:</p><div id="slider-nb_orbits" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"></div>
          <p>Number of nodes per orbit:</p><div id="slider-nb_nodes_per_orbit" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"></div>
        </div>
        <div id="tab-kennicott">
          <h2>Kennicott</h2>
          <p>Edge Length:</p><div id="slider-kennicott-edge_size" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"></div>
          <p>Cluster Length:</p><div id="slider-kennicott-cluster_size" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all"></div>
        </div>
      </div>
    </div>

    <script src="js/Three.js"></script>
    <script src="js/G3D.js"></script>
    <script src="js/celtic.js"></script>
  </body>
</html>
